<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https: http:;">
    <title>Aegis Browser - Incognito</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="incognito.css">
</head>
<body class="incognito">
    <!-- Window Resize Handles -->
    <div class="resize-handle resize-handle-n" data-direction="n"></div>
    <div class="resize-handle resize-handle-s" data-direction="s"></div>
    <div class="resize-handle resize-handle-e" data-direction="e"></div>
    <div class="resize-handle resize-handle-w" data-direction="w"></div>
    <div class="resize-handle resize-handle-nw" data-direction="nw"></div>
    <div class="resize-handle resize-handle-ne" data-direction="ne"></div>
    <div class="resize-handle resize-handle-sw" data-direction="sw"></div>
    <div class="resize-handle resize-handle-se" data-direction="se"></div>
    
    <div id="browser">
        <!-- Tab Bar -->
        <div id="tab-bar">
            <div id="incognito-indicator" title="You're browsing privately">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                    <line x1="3" y1="3" x2="21" y2="21" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <div id="tabs-container">
                <!-- Tabs will be added here dynamically -->
            </div>
            <div id="drag-region"></div>
            <button id="new-tab-btn" title="New Tab (Ctrl+T)">+</button>
            
            <!-- Window Controls -->
            <div id="window-controls">
                <button id="minimize-btn" title="Minimize">─</button>
                <div id="maximize-container">
                    <button id="maximize-btn" title="Maximize">□</button>
                    <div id="snap-layout-popup">
                        <div class="snap-layout-grid">
                            <div class="snap-option" data-snap="left" title="Snap Left">
                                <div class="snap-preview snap-left"></div>
                            </div>
                            <div class="snap-option" data-snap="right" title="Snap Right">
                                <div class="snap-preview snap-right"></div>
                            </div>
                            <div class="snap-option" data-snap="top-left" title="Top Left">
                                <div class="snap-preview snap-top-left"></div>
                            </div>
                            <div class="snap-option" data-snap="top-right" title="Top Right">
                                <div class="snap-preview snap-top-right"></div>
                            </div>
                            <div class="snap-option" data-snap="bottom-left" title="Bottom Left">
                                <div class="snap-preview snap-bottom-left"></div>
                            </div>
                            <div class="snap-option" data-snap="bottom-right" title="Bottom Right">
                                <div class="snap-preview snap-bottom-right"></div>
                            </div>
                            <div class="snap-option snap-full" data-snap="maximize" title="Maximize">
                                <div class="snap-preview snap-maximize"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <button id="close-btn" title="Close">✕</button>
            </div>
        </div>
        
        <!-- Address Bar -->
        <div id="toolbar">
            <!-- Navigation Buttons -->
            <div id="nav-buttons">
                <button id="back-btn" title="Go Back" disabled>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                </button>
                <button id="forward-btn" title="Go Forward" disabled>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
                    </svg>
                </button>
                <button id="reload-btn" title="Reload">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                    </svg>
                </button>
            </div>
            
            <!-- HTTPS Indicator -->
            <div id="https-indicator" class="https-indicator secure" title="Secure connection">
                <svg id="https-lock-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                </svg>
                <svg id="https-unlock-icon" class="hidden" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/>
                </svg>
                <svg id="https-info-icon" class="hidden" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                </svg>
            </div>
            
            <div id=\"address-bar-container\">\n                <input \n                    type=\"text\" \n                    id=\"address-bar\" \n                    placeholder=\"Search or enter URL (Incognito)...\"\n                    spellcheck=\"false\"\n                    autocomplete=\"off\"\n                >\n                <div id=\"suggestions-dropdown\" class=\"hidden\">\n                    <!-- Suggestions will be added here dynamically -->\n                </div>\n            </div>
            <!-- Ad Block Button -->
            <div id="adblock-container">
                <button id="adblock-btn" class="adblock-enabled" title="Ad Blocker">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                    </svg>
                    <span id="adblock-count" class="adblock-count hidden">0</span>
                </button>
                <!-- Ad Block Dropdown Menu -->
                <div id="adblock-dropdown" class="hidden">
                    <div class="adblock-header">
                        <div class="adblock-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                            </svg>
                            <span>Ad Blocker</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="adblock-toggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="adblock-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="adblock-total-blocked">0</span>
                            <span class="stat-label">Ads Blocked</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="adblock-page-blocked">0</span>
                            <span class="stat-label">This Session</span>
                        </div>
                    </div>
                    <div class="adblock-info">
                        <p>Blocks ads, trackers, and malware domains to protect your privacy.</p>
                    </div>
                </div>
            </div>
            <!-- Menu Button -->
            <button id="menu-btn" title="Menu">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <circle cx="12" cy="5" r="2"/>
                    <circle cx="12" cy="12" r="2"/>
                    <circle cx="12" cy="19" r="2"/>
                </svg>
            </button>
            <!-- Dropdown Menu (simplified for incognito) -->
            <div id="menu-dropdown" class="hidden">
                <button class="menu-item" data-action="new-tab">New Tab</button>
                <div class="menu-divider"></div>
                <button class="menu-item" data-action="zoom-in">Zoom In</button>
                <button class="menu-item" data-action="zoom-out">Zoom Out</button>
                <button class="menu-item" data-action="zoom-reset">Reset Zoom</button>
                <div class="menu-divider"></div>
                <button class="menu-item" data-action="devtools">Developer Tools</button>
            </div>
        </div>
        
        <!-- Webview Container -->
        <div id="webview-container">
            <!-- Webviews will be added here dynamically -->
        </div>
        
        <!-- Find Bar -->
        <div id="find-bar" class="hidden">
            <input type="text" id="find-input" placeholder="Find in page...">
            <span id="find-results">0/0</span>
            <button id="find-prev-btn" title="Previous (Shift+Enter)">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
                </svg>
            </button>
            <button id="find-next-btn" title="Next (Enter)">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z"/>
                </svg>
            </button>
            <button id="find-close-btn" title="Close (Escape)">✕</button>
        </div>
    </div>
    <script src="incognito-app.js"></script>
</body>
</html>
